<h3 id="champs-alignes">Champs alignés horizontalement (classe <code>qc‑formfield‑row</code>)</h3>

<p>
    Les champs regroupés sur une ligne doivent être placés dans un <code>div</code> avec la classe <code>qc-formfield-row</code>.
    De cette façon, les messages d'erreur ne provoquent pas de décalage.
    <br/><br/>
    Voir le code des champs Téléphone et Poste dans l'exemple ci-dessus.
</p>

<h4>Exemple</h4>
<qc-doc-exemple caption="Exemple de champs sur une seule ligne">
    <form id="formulaire-champ-alignes">
        <div class="qc-formfield-row">
            <qc-textfield
                    label="Téléphone"
                    size="sm"
                    required
            ><input type="text"
                    name="telephone"
                    placeholder="(123) 456-7890"
            /></qc-textfield>

            <qc-textfield
                    label="Poste"
                    size="xs"
                    required
            >
                <input type="text"
                       name="poste"
                />
            </qc-textfield>
        </div>
        <div class="qc-formfield-row">
            <qc-select
                    id="dropdown-list-restaurants"
                    placeholder="Type de restaurant"
                    enable-search
                    search-placeholder="Rechercher un type de restaurant"
                    required
                    invalid-text="Veuillez choisir un type de restaurant."
            >
                <label for="dropdown-list-restaurants-select">Type de restaurant</label>
                <select id="dropdown-list-restaurants-select"
                        name="restaurants">
                    <option value="">Veuillez faire un choix</option>
                    <option value="Pizzeria">Pizzeria</option>
                    <option value="Pâtisserie">Pâtisserie</option>
                    <option value="Steakhouse">Steakhouse</option>
                    <option value="Bar">Bar</option>
                    <option value="Casse-croûte">Casse-croûte</option>
                    <option value="Boîte à pâtes">Boîte à pâtes</option>
                    <option value="Restaurant à burgers">Restaurant à burgers</option>
                </select>
            </qc-select>

            <qc-select
                    id="dropdown-list-regions"
                    placeholder="Sélectionner une région"
                    enable-search
                    required
                    search-placeholder="Rechercher les régions"
            >
                <label for="dropdown-list-regions-select">Régions desservies</label>
                <select id="dropdown-list-regions-select" multiple name="regions">
                    <option value="Capitale-nationale">Capitale-nationale</option>
                    <option value="Centre-du-Québec" >Centre-du-Québec</option>
                    <option value="Montérégie" >Montérégie</option>
                    <option value="Outaouais">Outaouais</option>
                    <option value="Saguenay-Lac-Saint-Jean">Saguenay-Lac-Saint-Jean</option>
                    <option value="Gaspésie-Îles-de-la-Madeleine">Gaspésie-Îles-de-la-Madeleine</option>
                    <option value="Nord-du-Québec">Nord-du-Québec</option>
                    <option value="Bas-Saint-Laurent">Bas-Saint-Laurent</option>
                </select>
            </qc-select>
        </div>
        <button type="submit" class="qc-button qc-primary qc-compact">Envoyer</button>
    </form>


</qc-doc-exemple>
<script>
    const formfieldRowForm = document.getElementById("formulaire-champ-alignes");
    formfieldRowForm.addEventListener("submit", (event) => {
        event.preventDefault();
        let isValid = true;
        formfieldRowForm
            .querySelectorAll("qc-textfield[required], [required] select")
            .forEach(formfield => {
                console.log(formfield, formfield.value ?? "no value")
                if ((formfield.invalidAtSubmit ?? false)) { // textfield
                    formfield.invalid = true;
                    isValid = false;
                }
                if ((formfield.value === "")) { // select
                    formfield.closest("qc-select").invalid = true;
                    isValid = false;
                }
            })
        if (isValid) {
            const formData = new FormData(formfieldRowForm);
            let alertParts = ["Formulaire soumis avec les données suivantes :"];
            for (const [key, val] of formData.entries()) {
                alertParts.push(`${key} : ${val}`);
            }
            alert(alertParts.join("\n"));
        }
    });
</script>
